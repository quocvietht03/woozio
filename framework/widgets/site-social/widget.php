<?php

namespace WoozioElementorWidgets\Widgets\SiteSocial;

use Elementor\Widget_Base;
use Elementor\Controls_Manager;
use Elementor\Group_Control_Typography;

class Widget_SiteSocial extends Widget_Base
{

	public function get_name()
	{
		return 'bt-site-social';
	}

	public function get_title()
	{
		return __('Site Social', 'woozio');
	}

	public function get_icon()
	{
		return 'eicon-posts-ticker';
	}

	public function get_categories()
	{
		return ['woozio'];
	}

	protected function register_layout_section_controls()
	{
		$this->start_controls_section(
			'section_layout',
			[
				'label' => __('Layout', 'woozio'),
			]
		);

		$this->add_responsive_control(
			'text_align',
			[
				'label' => esc_html__('Alignment', 'woozio'),
				'type' => Controls_Manager::CHOOSE,
				'options' => [
					'start' => [
						'title' => esc_html__('Left', 'woozio'),
						'icon' => 'eicon-text-align-left',
					],
					'center' => [
						'title' => esc_html__('Center', 'woozio'),
						'icon' => 'eicon-text-align-center',
					],
					'end' => [
						'title' => esc_html__('Right', 'woozio'),
						'icon' => 'eicon-text-align-right',
					],
				],
				'default' => 'center',
				'toggle' => true,
				'selectors' => [
					'{{WRAPPER}} .bt-elwg-site-social' => 'justify-content: {{VALUE}};',
				],
			]
		);
		$this->add_responsive_control(
			'icon_size',
			[
				'label' => __('Icon Size', 'woozio'),
				'type' => Controls_Manager::SLIDER,
				'size_units' => ['px'],
				'range' => [
					'px' => [
						'min' => 10,
						'max' => 100,
						'step' => 1,
					],
				],
				'default' => [
					'unit' => 'px',
					'size' => 20,
				],
				'selectors' => [
					'{{WRAPPER}} .bt-elwg-site-social a svg' => 'width: {{SIZE}}{{UNIT}}; height: {{SIZE}}{{UNIT}};',
				],
			]
		);
		$this->add_control(
			'icon_color',
			[
				'label' => __('Icon Color', 'woozio'),
				'type' => Controls_Manager::COLOR,
				'selectors' => [
					'{{WRAPPER}} .bt-elwg-site-social a' => 'color: {{VALUE}};',
				],
			]
		);

		$this->add_control(
			'icon_hover_color',
			[
				'label' => __('Icon Hover Color', 'woozio'),
				'type' => Controls_Manager::COLOR,
				'selectors' => [
					'{{WRAPPER}} .bt-elwg-site-social a:hover' => 'color: {{VALUE}};',
				],
			]
		);
		$this->add_responsive_control(
			'icon_spacing',
			[
				'label' => __('Icon Spacing', 'woozio'),
				'type' => Controls_Manager::SLIDER,
				'size_units' => ['px'],
				'range' => [
					'px' => [
						'min' => 0,
						'max' => 100,
						'step' => 1,
					],
				],
				'selectors' => [
					'{{WRAPPER}} .bt-elwg-site-social' => 'gap: {{SIZE}}{{UNIT}};',
				],
			]
		);
		$this->end_controls_section();
	}

	protected function register_controls()
	{
		$this->register_layout_section_controls();
	}

	protected function render()
	{
		$settings = $this->get_settings_for_display();
		if (function_exists('get_field')) {
			$site_infor = get_field('site_information', 'options');
		} else {
			return;
		}

		if (empty($site_infor['site_socials'])) {
			return;
		}

		?>
		<div class="bt-elwg-site-social">
			<?php

			foreach ($site_infor['site_socials'] as $item) {
				if ($item['social'] == 'facebook') {
					echo '<a class="bt-' . esc_attr($item['social']) . '" href="' . esc_url($item['link']) . '" target="_blank">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
								<path d="M18.125 10.001C18.1224 11.9868 17.3938 13.9031 16.0764 15.389C14.7591 16.8749 12.9438 17.8278 10.9726 18.0682C10.9287 18.0732 10.8843 18.0688 10.8422 18.0553C10.8001 18.0419 10.7614 18.0196 10.7286 17.9901C10.6957 17.9606 10.6695 17.9244 10.6516 17.884C10.6338 17.8436 10.6247 17.7999 10.625 17.7557V11.876H12.5C12.5856 11.8762 12.6704 11.8588 12.7491 11.8248C12.8278 11.7908 12.8986 11.7411 12.9572 11.6786C13.0158 11.6161 13.061 11.5422 13.0898 11.4615C13.1187 11.3808 13.1306 11.2951 13.125 11.2096C13.1112 11.0489 13.037 10.8994 12.9174 10.7911C12.7979 10.6828 12.6417 10.6238 12.4804 10.626H10.625V8.75102C10.625 8.41949 10.7567 8.10155 10.9911 7.86713C11.2255 7.63271 11.5434 7.50102 11.875 7.50102H13.125C13.2106 7.5012 13.2954 7.48377 13.3741 7.44981C13.4528 7.41584 13.5236 7.36606 13.5822 7.30357C13.6408 7.24107 13.686 7.16719 13.7148 7.08652C13.7437 7.00585 13.7556 6.9201 13.75 6.83461C13.7361 6.67362 13.6618 6.52386 13.5419 6.41556C13.422 6.30725 13.2654 6.24845 13.1039 6.25102H11.875C11.2119 6.25102 10.576 6.51441 10.1072 6.98325C9.63836 7.45209 9.37496 8.08797 9.37496 8.75102V10.626H7.49996C7.41429 10.6258 7.32948 10.6433 7.25082 10.6772C7.17216 10.7112 7.10133 10.761 7.04271 10.8235C6.9841 10.886 6.93897 10.9598 6.91011 11.0405C6.88125 11.1212 6.86929 11.2069 6.87497 11.2924C6.88879 11.4534 6.96316 11.6032 7.08306 11.7115C7.20297 11.8198 7.3595 11.8786 7.52106 11.876H9.37496V17.7573C9.37523 17.8014 9.36616 17.845 9.34836 17.8854C9.33055 17.9257 9.3044 17.9618 9.27164 17.9913C9.23887 18.0208 9.20023 18.0431 9.15826 18.0566C9.11628 18.0701 9.07192 18.0746 9.02809 18.0698C7.00415 17.8233 5.1465 16.8259 3.82283 15.2751C2.49917 13.7243 1.80597 11.7331 1.88043 9.69555C2.03668 5.4768 5.45387 2.04711 9.67575 1.88305C10.7688 1.84071 11.8591 2.01926 12.8816 2.40802C13.904 2.79678 14.8376 3.38777 15.6263 4.14562C16.4151 4.90348 17.0429 5.81264 17.4723 6.81873C17.9016 7.82482 18.1236 8.90716 18.125 10.001Z" fill="currentColor"/>
							</svg>
						 </a>';
				}

				if ($item['social'] == 'twitter') {
					echo '<a class="bt-' . esc_attr($item['social']) . '" href="' . esc_url($item['link']) . '" target="_blank">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
							<path d="M16.7967 17.1758C16.7429 17.2738 16.6637 17.3556 16.5676 17.4126C16.4714 17.4696 16.3616 17.4998 16.2498 17.5H12.4998C12.3946 17.5 12.2911 17.4734 12.199 17.4227C12.1068 17.3721 12.0289 17.2989 11.9725 17.2102L8.80919 12.2391L4.21232 17.2953C4.10026 17.4157 3.94526 17.487 3.78095 17.4939C3.61663 17.5008 3.45622 17.4426 3.33451 17.332C3.2128 17.2214 3.13959 17.0673 3.13076 16.903C3.12192 16.7388 3.17817 16.5777 3.28732 16.4547L8.1131 11.1422L3.22247 3.46094C3.16224 3.36644 3.12852 3.25749 3.12485 3.14548C3.12117 3.03348 3.14768 2.92255 3.20159 2.82431C3.25551 2.72607 3.33484 2.64413 3.43129 2.58708C3.52774 2.53002 3.63775 2.49995 3.74982 2.5H7.49982C7.605 2.50003 7.70848 2.52661 7.80067 2.57728C7.89285 2.62795 7.97075 2.70106 8.02716 2.78984L11.1904 7.76094L15.7873 2.70469C15.8994 2.58431 16.0544 2.51296 16.2187 2.50609C16.383 2.49923 16.5434 2.5574 16.6651 2.66801C16.7868 2.77862 16.86 2.93275 16.8689 3.09697C16.8777 3.2612 16.8215 3.42228 16.7123 3.54531L11.8865 8.85391L16.7772 16.5398C16.8371 16.6344 16.8705 16.7433 16.8739 16.8551C16.8773 16.967 16.8507 17.0777 16.7967 17.1758Z" fill="currentColor"/>
							</svg>
							</a>';
				}
				if ($item['social'] == 'instagram') {
					echo '<a class="bt-' . esc_attr($item['social']) . '" href="' . esc_url($item['link']) . '" target="_blank">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
							<path d="M13.75 1.875H6.25C5.09006 1.87624 3.97798 2.33758 3.15778 3.15778C2.33758 3.97798 1.87624 5.09006 1.875 6.25V13.75C1.87624 14.9099 2.33758 16.022 3.15778 16.8422C3.97798 17.6624 5.09006 18.1238 6.25 18.125H13.75C14.9099 18.1238 16.022 17.6624 16.8422 16.8422C17.6624 16.022 18.1238 14.9099 18.125 13.75V6.25C18.1238 5.09006 17.6624 3.97798 16.8422 3.15778C16.022 2.33758 14.9099 1.87624 13.75 1.875ZM10 13.75C9.25832 13.75 8.5333 13.5301 7.91661 13.118C7.29993 12.706 6.81928 12.1203 6.53545 11.4351C6.25162 10.7498 6.17736 9.99584 6.32206 9.26841C6.46675 8.54098 6.8239 7.8728 7.34835 7.34835C7.8728 6.8239 8.54098 6.46675 9.26841 6.32206C9.99584 6.17736 10.7498 6.25162 11.4351 6.53545C12.1203 6.81928 12.706 7.29993 13.118 7.91661C13.5301 8.5333 13.75 9.25832 13.75 10C13.749 10.9942 13.3535 11.9475 12.6505 12.6505C11.9475 13.3535 10.9942 13.749 10 13.75ZM14.6875 6.25C14.5021 6.25 14.3208 6.19502 14.1667 6.092C14.0125 5.98899 13.8923 5.84257 13.8214 5.67127C13.7504 5.49996 13.7318 5.31146 13.768 5.1296C13.8042 4.94775 13.8935 4.7807 14.0246 4.64959C14.1557 4.51848 14.3227 4.42919 14.5046 4.39301C14.6865 4.35684 14.875 4.37541 15.0463 4.44636C15.2176 4.51732 15.364 4.63748 15.467 4.79165C15.57 4.94582 15.625 5.12708 15.625 5.3125C15.625 5.56114 15.5262 5.7996 15.3504 5.97541C15.1746 6.15123 14.9361 6.25 14.6875 6.25ZM12.5 10C12.5 10.4945 12.3534 10.9778 12.0787 11.3889C11.804 11.8 11.4135 12.1205 10.9567 12.3097C10.4999 12.4989 9.99723 12.5484 9.51227 12.452C9.02732 12.3555 8.58186 12.1174 8.23223 11.7678C7.8826 11.4181 7.6445 10.9727 7.54804 10.4877C7.45157 10.0028 7.50108 9.50011 7.6903 9.04329C7.87952 8.58648 8.19995 8.19603 8.61107 7.92133C9.0222 7.64662 9.50555 7.5 10 7.5C10.663 7.5 11.2989 7.76339 11.7678 8.23223C12.2366 8.70107 12.5 9.33696 12.5 10Z" fill="currentColor"/>
							</svg>
						</a>';
				}
				if ($item['social'] == 'pinterest') {
					echo '<a class="bt-' . esc_attr($item['social']) . '" href="' . esc_url($item['link']) . '" target="_blank">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
							<path d="M18.75 10.0551C18.7203 14.4683 15.1203 18.0809 10.7078 18.1246C10.0251 18.1318 9.34426 18.0531 8.68124 17.8902C8.64135 17.8803 8.60382 17.8625 8.5708 17.8381C8.53777 17.8136 8.5099 17.7828 8.48878 17.7476C8.46766 17.7123 8.45371 17.6732 8.44772 17.6325C8.44174 17.5919 8.44384 17.5504 8.4539 17.5105L9.1289 14.8113C9.78727 15.1413 10.5136 15.313 11.25 15.3129C14.1406 15.3129 16.4609 12.6996 16.2351 9.58163C16.1739 8.77235 15.9383 7.98591 15.5444 7.2763C15.1505 6.56668 14.6078 5.9507 13.9534 5.47064C13.299 4.99058 12.5485 4.65781 11.7534 4.49518C10.9582 4.33254 10.1373 4.3439 9.34701 4.52846C8.55668 4.71303 7.81565 5.06643 7.17479 5.5644C6.53394 6.06238 6.00843 6.69314 5.63434 7.41338C5.26026 8.13361 5.04646 8.92627 5.00763 9.73693C4.96879 10.5476 5.10584 11.3571 5.40937 12.1098C5.4409 12.1883 5.48805 12.2596 5.54795 12.3193C5.60786 12.3791 5.67928 12.4261 5.75788 12.4574C5.83648 12.4887 5.92063 12.5038 6.00522 12.5017C6.08981 12.4995 6.17308 12.4802 6.24999 12.4449C6.39667 12.3738 6.51068 12.2494 6.56875 12.0971C6.62683 11.9448 6.62459 11.7761 6.56249 11.6254C6.3289 11.0396 6.22471 10.4102 6.25706 9.78039C6.28942 9.15057 6.45756 8.53519 6.74996 7.97642C7.04236 7.41765 7.4521 6.9287 7.95112 6.54307C8.45013 6.15745 9.02662 5.88426 9.64107 5.74224C10.2555 5.60022 10.8934 5.59272 11.511 5.72026C12.1287 5.84779 12.7114 6.10734 13.2194 6.48113C13.7273 6.85491 14.1484 7.3341 14.4539 7.88584C14.7593 8.43758 14.9419 9.04884 14.9891 9.67772C15.1562 12.0629 13.4164 14.0629 11.25 14.0629C10.6129 14.0626 9.98786 13.8886 9.44218 13.5598L10.6062 8.90194C10.6433 8.74227 10.6161 8.57445 10.5306 8.43463C10.445 8.29481 10.308 8.19418 10.149 8.15443C9.98997 8.11468 9.8217 8.13898 9.68044 8.2221C9.53917 8.30522 9.43621 8.44051 9.39374 8.59882L7.2953 16.9934C7.28391 17.0391 7.26233 17.0816 7.23217 17.1178C7.20202 17.154 7.16407 17.1829 7.12117 17.2024C7.07827 17.2218 7.03152 17.2313 6.98443 17.2302C6.93733 17.229 6.89111 17.2172 6.84921 17.1957C5.52376 16.5002 4.41621 15.452 3.64875 14.1669C2.88128 12.8818 2.48374 11.4096 2.49999 9.91288C2.54687 5.50975 6.14608 1.916 10.5469 1.87538C11.625 1.86499 12.6945 2.06929 13.6929 2.47639C14.6913 2.88348 15.5987 3.48522 16.3622 4.24654C17.1257 5.00787 17.73 5.91354 18.14 6.91078C18.5499 7.90802 18.7573 8.97688 18.75 10.0551Z" fill="currentColor"/>
							</svg>
						</a>';
				}
				if ($item['social'] == 'youtube') {
					echo '<a class="bt-' . esc_attr($item['social']) . '" href="' . esc_url($item['link']) . '" target="_blank">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
								<path d="M18.307 5.43125C18.2334 5.14324 18.0924 4.87686 17.8955 4.65409C17.6987 4.43132 17.4517 4.25854 17.175 4.15C14.4969 3.11563 10.2344 3.125 10 3.125C9.76562 3.125 5.50312 3.11563 2.825 4.15C2.54825 4.25854 2.30128 4.43132 2.10445 4.65409C1.90762 4.87686 1.76658 5.14324 1.69297 5.43125C1.49063 6.21094 1.25 7.63594 1.25 10C1.25 12.3641 1.49063 13.7891 1.69297 14.5688C1.76647 14.8569 1.90746 15.1234 2.1043 15.3464C2.30113 15.5693 2.54816 15.7422 2.825 15.8508C5.39062 16.8406 9.40625 16.875 9.94844 16.875H10.0516C10.5938 16.875 14.6117 16.8406 17.175 15.8508C17.4518 15.7422 17.6989 15.5693 17.8957 15.3464C18.0925 15.1234 18.2335 14.8569 18.307 14.5688C18.5094 13.7875 18.75 12.3641 18.75 10C18.75 7.63594 18.5094 6.21094 18.307 5.43125ZM12.5461 10.5094L9.42109 12.6969C9.32761 12.7624 9.21799 12.801 9.1041 12.8086C8.99022 12.8162 8.87643 12.7925 8.77508 12.74C8.67373 12.6875 8.58868 12.6083 8.52917 12.5109C8.46966 12.4135 8.43796 12.3016 8.4375 12.1875V7.8125C8.43753 7.69817 8.46893 7.58603 8.52827 7.4883C8.5876 7.39057 8.67261 7.31099 8.77404 7.25823C8.87547 7.20546 8.98943 7.18152 9.10352 7.18903C9.21761 7.19653 9.32745 7.23519 9.42109 7.30078L12.5461 9.48828C12.6283 9.54593 12.6954 9.62253 12.7417 9.7116C12.7881 9.80068 12.8123 9.8996 12.8123 10C12.8122 10.1004 12.7881 10.1993 12.7417 10.2884C12.6954 10.3775 12.6283 10.4541 12.5461 10.5117V10.5094Z" fill="currentColor"/>
							</svg>
						</a>';
				}

			}
			?>
		</div>
		<?php
	}

	protected function content_template() {}
}
